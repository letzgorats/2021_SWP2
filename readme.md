# AD Project
AD_Project for 2021-2 Software Project 2 <br />
- email address : ian0125@kookmin.ac.kr <br />
- 이름 : 김정엽  <br />
- 학과 : 소프트웨어학과 <br />
- 학번 : 20171601 <br />

- 1) 조명 : 키오조(팀 5)
- 2) 조원 / 3) 학번:
   - 20171601 김정엽
   - 20183531 마광정
   - 20182847 박상학
   - 20182082 박주현
   - 20152829 배준형
<br>
<br>
- 4) 과제요약
  - ## 웹크롤링 + PyQt를 기반으로 한 정보 제공 프로그램 구현
<br>
<hr>

## 과제 목표

  1. 영화 추천 기능

    - 메인 창에서 영화 추천 버튼을 클릭하면, 유튜브와 넷플릭스 추천에 대한 버튼이 나온다.
    - 넷플릭스 영화 추천 버튼과 유튜브 추천 버튼을 클릭했을 때, 넷플릭스는 상위 5개의 추천목록을 사용자에게 보여주고, 유튜브도 실시간 5개의 인기동영상을 사용자에 보여준다.
    - 홈버튼을 누르면 메인창으로 돌아온다.<br>
<br>
  2. 뉴스 추천 기능

    - 메인 창에서 실시간 뉴스보기 버튼을 클릭하면, 네이버 뉴스의 실시간 IT뉴스와 헤드라인 뉴스를 가져온다. <br>
<br>
  3. 오늘의 영어 표현

    - 오늘의 영어회화 버튼을 눌렀을 때, 해커스 홈페이지의 오늘의 영어회화를 사용자에게 제공해준다. <br>
<br>

- 각페이지 구성시에 여러가지 위젯을 사용하여 화면을 구성(기능에 맞는 위젯 선택하여 구성)

## 개발환경(Development Environment)
- PyQt5 - designer를 통한 ui구현, loadUi ..
- Web_Crawling - BeautifulSoup4, Requests ...

## 과제 구현 동기
 - 코로나가 장기화 됨에 따라 사람들은 비대면이 더 익숙한 상황이 되어가고 있다.
 - 사람들에게 다른 기능을 제공하는 것보다 실용적으로 실생활에 충분히 쓸만한 프로그램을 만드는 것이 더 낫다고 판단하여 INFO BANG을 계획하게 되었다.

 - 기대 효과
  - 1) 평소 유튜브나 넷플릭스 등 영상 플랫폼의 실시간 순위를 제공받음으로써 영상을 시청할 수 있다.

  - 2) 실생활과 가깝게 접목한 프로그램이라 사용자에게 친근하게 다가가 프로그램의 사용을 증대시킬 수 있다.

  - 3) 실시간 뉴스 중 헤드라인 뉴스와 IT뉴스를 제공받음으로써 직접 찾아보지 않아도 PyQt프로그램을 통해 사회 정세를 파악할 수 있다. (작년부터 실시간 순위도 없어졌다.)

  - 4) 글로벌 시대에 맞게 매일매일 달라지는 영어회화를 새롭게 배움으로써 평소에도 쉽게 영어회화를 접할 수 있다.

## 과제 구현 내용

- 1) 영화 추천버튼을 눌렀을 때,
      - 넷플릭스 영화 추천 순위 버튼을 눌렀을 때,
        - 실시간 넷플릭스 영화 순위 리스트 top5를 출력해주고,
          제목을 클릭하면,링크를 통해 해당 매체가 있는 페이지로 이동가능

      - 유튜브 영상 추천 순위 버튼
        - 실시간 유튜브 추천 순위와 더불어 썸네일을 보여주고,
         보기 버튼을 눌렀을 때, 영상 재생

- 2) 뉴스 보기 버튼을 눌렀을 때,
      - 실시간 헤드라인 뉴스제목과 더불어 해당 링크를 제공
      - 실시간 IT뉴스 제목과 더불어 해당 링크를 제공

- 3) 오늘의 영어회화,
      - 오늘의 영어회화 버튼을 눌렀을 때,
        - 해커스 홈페이지의 오늘의 영어회화를 제공
      - 영어 지문 과 한글 지문을 제공

## 주요 기능 설명

### 기능적 요구사항(프로그램에서 작동하는 모든 기능들)

### 1. 메인
  - ###### 영화 추천 버튼이 있다.
  클릭 시 각각 넷플릭스 추천 화면, 유튜브 추천 화면, 메인으로 <br/> 돌아가기로 동작하는 3개의 버튼이 있는 화면으로 전환한다.
  - ###### 실시간 뉴스 보기 버튼이 있다.
  클릭 시 실시간 뉴스 화면으로 전환한다.

### 2. 넷플릭스 추천 화면
 - ###### Top10.netflix.com 에서 한국 넷플릭스 영상 순위 5개를 크롤링해 불러온다.
 - ###### 각 제목을 클릭 시 해당하는 넷플릭스 영상으로 링크된다.

### 3. 유튜브 추천 화면
 - ###### 유튜브의 실시간 순위 5개를 크롤링해 불러온다
 - ###### 각 영상은 썸네일과 보기 버튼을 가지고 있다. 버튼은 해당 영상과 링크된다.
 - ###### C. 보기 버튼 클릭 시 해당 유튜브 영상이 어플리케이션 내에 임베디드 된다. 해당 유튜브 영상이 재생되는 동안 원래 유튜브 처럼 밑에 추천영상도 함께 뜬다.

### 4.	실시간 뉴스
 - ###### A.	네이버 뉴스에서 오늘의 헤드라인 뉴스, 오늘의 IT뉴스를 크롤링 해온다.
 - ###### B.	각 뉴스는 최고 순위부터 5개까지 표시된다.
 - ###### C.	각 뉴스는 제목, 링크를 표시한다

  - 1) main.py : 홈화면
    - 홈 화면
    - main.py는 애플리케이션이 동작하는 main이다.
    - PyQt5에 내장되어 있는 여러 라이브러리들을 불러온다.
    - ui를 load할 수 있는 uic 라이브러리가 대표적이다. 이를 통해 designer를 통해 만든 Pyqt UI를 load 할 수 있다.
    - main.py 이외의 다른 모듈들에 있는 클래스를 불러온다. (ex. from youtube import YoutubeUi)
    - img 폴더에 있는 img.py를 불러온다. (이 때, img.py는 여러 사진들이 저장되어 있는 img.qrc 를 py형태로 변환한 것이다.)
    - 각 창 마다 해당되는 위젯들을 선언해준다.
    - loadUi 함수를 통해, Main.ui 를 불러오고, 각 버튼의 클릭이벤트에 맞게 해당 윈도우를 열어주는 메소드로 이동한다.
    - QStackedWidget()을 통해 widget을 스택에 담아서, 각 인덱스로 이동하는 방식으로 화면 전환을 구성했다.
    - addwidget을 통해 각 위젯을 더해주었다.

  - 2) netflix.py
    - netflixUi 클래스가 구현된 부분이다.
    - 먼저 BeautifulSoup 모듈을 불러와서 requests 모듈과 함께 파싱을 돕는다.
    - top5의 영화의 각자 링크를 부여해주기 위해 버튼 리스트를 따로 만들어줬다.
    - 링크 들어갈 버튼을 QtoolButton()을 통해 구현했다.
    - 이미지 넣는 곳은 QLable()로 설정해주었다.
    - 파싱된 영화제목이 클릭되면, 파싱된 해당 링크로 새창을 열어준다.

  - 3) youtube.py
    - youtubeUi 클래스가 구현된 부분이다.
    - 여기서는 BeautifulSoup 말고도 Selenium 모듈을 불러와서 webdriver를 임포트해줬다.
    - 크롬 창을 기반으로 창이 열린다.
    - 창 없이 selenium을 실행하는 코드를 더해주었다.
    - 마찬가지로, 링크를 저장할 리스트와 버튼 리스트를 따로 만들어줘서 buttonClicked 함수에서 사용되도록 구현하였다.
    - 창 제목과, 창 초기 위치를 설정하였고 역시 top5 영상을 xpath를 통해 이미지와 영상 소스를 추출하였다.
    - 이미지url은 Qlabel에 넣을 수 있게 데이터화 시켜줬다.
    - Qlabel()을 통해 유튜브 썸네일을 담았다.
    - 보기 버튼을 클릭하면, buttonClicked 함수에서 사용할 객체이름을 정해주고 해당 영상을 보여준다.
    - buttonClicked 함수에는 기존에 만들었던 링크 리스트에 순위에 맞는 주소를 부여해주는 기능이 있다.

  - 4) news.py
    - newsUi 클래스가 구현된 부분이다.
    - loadUi 함수를 통해 News.ui를 불러왔다.
    - functions.py 에 있는 create_soup을 불러온다.
    - 테이블 컬럼을 사용했고, 헤드라인 뉴스와 IT뉴스를 가져오는 함수가 구현된 부분이다.
    -  scrape_headline_news() 함수에서 네이버 헤드라인 뉴스 top5를 가져왔고 테이블 위젯에 한 줄씩 담는다.
    - 테이블에 담은 뉴스 제목과 링크를 사용자에게 제공한다.

  - 5) functions.py
    - BeautifulSoup과 requests 모듈이 중점적으로 사용된 부분이다.
    - 수프 객체를 만드는 함수가 구현되어 있다.
    - 날씨 웹 스크래핑, 헤드라인 뉴스 웹 스크래핑, 오늘의 영어회화 웹 스크래핑, 오늘의 해외축구 뉴스 웹 스크래핑 등의 함수가 모두 구현되어 있다.
    - 여기서 날씨 정보와 해외축구 정보는 함수를 다 만들었지만 INFO_BANG의 프로그램에서는 사용되지 않았다.

  - 그 외)
    - movieselectbutton.ui
    - News.ui
    - Main.ui
    - img폴더 내의 사용된 이미지가 저장된 img.qrc
    - img.qrc를 코드로 반환한 img.py
    - chromedriver.exe 어플리케이션(chromedriver의 상대경로 필요차 추가함)


### 비기능적 요구사항(구현에 사용된 툴, 라이브러리 등)

  - ###### 최대한 pyqt내의 기능을 사용한다.
  - ###### 크롤링 모듈은 beautifulsoap4, selenium을 사용한다.
  - ###### Ui는 모든 사용환경에서 동일하게 보여야 한다.
  - ###### requests와 img파일을 적절히 사용한다.

## 노력했던 점

 - 전체적으로 어플의 방향성과 초기목표를 잃지 않도록 했습니다.
 - 실행을 계속 해보면서 오류를 처리하는 것에 많은 신경을 썼습니다.
 - 디자인 부분에 많은 신경을 썼습니다.
 - 유튜브 영상이 바로 PyQt에 나오도록 구현하는데에 성공했습니다.
 - Ui 파일과 py파일에 있어서 절대경로와 상대경로가 서로 다른 팀원분들과 끊임없이 소통을 하면서 해결책을 찾아냈습니다.
 - UI 디자인에서 불러오는 사진은 모두 저작권 침해에 해당되지 않는 픽사베이 홈페이지에서 다운받았습니다.
 - PyQt의 사이즈에 맞게 다운받은 이미지를 일일히 조절하였고, 해당 사진을 img.qrc에 넣고 img.py로 변환하는데에 노력했습니다.
 - chromedriver.exe의 경로 문제도 해결했습니다.
 - 사용자의 각 선택에 맞게 알맞은 정보가 나타날 수 있도록 계속해서 디버깅 했습니다.
 - 화면 전환과 img파일 등의 디자인에 많은 노력과 시간을 썼습니다.
 - 사용자에게 실용성을 주는 애플리케이션이 개발되도록 끝까지 노력했습니다.

## 아쉬웠던 점
- 비대면이라 협업을 할 때 시간이 대면보다 다소 오래 걸렸습니다.
- 화면 전환에 있어서 stack을 사용해 쌓는 과정을 구현하는데에 있어, 될 때가 있었지만 시간을 너무 오래잡아먹고 오류를 출력할 때도 있어서 과감히 없앴습니다.
- 다만, 영화 추천 보기 버튼을 눌렀을 때, 다시 홈으로 가는 화면전환은 구현에 성공하였습니다.
- 유튜브 썸네일과 해당 영상 링크를 파싱해오는데는 성공했고, 실시간으로 PyQt 창에서 영상이 보이도록 노력해서 성공했지만, 썸네일을 클릭 했을 때 영상이 보이도록 하진 못했습니다.
- 보기 버튼을 따로 제작해 이러한 흠을 메꿨습니다.
- 주제발표 전에 계획했던 날씨뉴스나 해외축구 뉴스 정보를 가져오는 함수는 다 구현하였지만, 번잡스러운 것을 피하고 시간의 제약상 사용하지는 못했습니다.

## 개발 날짜 기재

- 11/18 카카오톡과 수업 조별활동을 통한 조 편성

- 11/18 카카오톡을 통해 아이디어 회의

- 11/21 카카오톡을 통해 아이디어 구체화 - 아이디어 선정

- 11/22 개발 전 디자인 회의

- 11/23 카카오톡을 통한 디자인 선정

- 11/25 구체적인 디자인을 바탕으로 화면 전환 구상

- 11/28 의견 수렴해서 초안 구현

- 11/29 기본적인 메인창 ui 디자인 구현, 메인 PyQt 틀 구현

- 11/30 메인창 ui를 통한 메인창 pyQt 구현, ui의 py파일로의 변환, PyQt틀과 병합

- 11/30 박주현 학우, 마광정 학우 조원으로 투입

- 12/02 본격적으로 각 창에 대해 구현

- 12/05 AD프로젝트 주제발표 ppt제작, 영상 제작

- 12/07 AD프로젝트 주제발표

- 12/09 메인 창에 대해 객체지향형으로 틀 수정

- 12/10 메인창에 맞게 모든 창의 클래스 수정

- 12/11 대부분의 기능적 파싱 함수 구현 완료

- 12/12 계속되는 오류 토의, 수정

- 12/13 최종적인 코드 깃헙으로 협업, 오류에 대한 디버깅, ppt 제작, Readme 작성, AD 팀프로젝트 제출물 정리
